## <p style="text-align: center;">Проект № 5. Анализ данных поездок такси в Нью-Йорке</p>

### Задача
Необходимо, используя таблицу поездок такси в Нью-Йорке, рассчитать процент поездок по количеству человек в машине. Должна получиться таблица в том числе со столбцами с самой дорогой и самой дешевой поездкой для каждой группы.

*Дополнительно: также провести аналитику и построить график на тему «Как пройденное расстояние и количество пассажиров влияет на чаевые» в любом удобном инструменте.*

### Используемые технологии
1. СУБД Postgres

<span style='color: red;'>long</span>


[Отчет о фильтрации данных](https://github.com/SergeyGitH/DataEngineer_Final/blob/master/doc/report.txt "Отчет о фильтрации данных")


# *Использумый стек технологий:*

Использован следующий стек технологий:

* В качестве СУБД использован Postgres, поскольку таблица не требует высокой скорости чтения для аналитики и при расширении функционала БД службы такси она скорее будет ориентирована на запись, причем небольшого количества строк за раз. В перспективе при увеличении количества данных и необходимости постоянных аналитических запросов имеет смысл переноса данных в Clickhouse (соответственно постановка процесса на расписание, например перенос дельты данных каждый день или неделю), однако сейчас такой потребности нет.

2. Язык скриптов - python, библиотеки psycopg2 для подключения к БД и обмена данными и pandas для возможности обработки данных датафреймами, а также выгрузки таблиц из БД в формате parquet.

3. Проект завернут в docker-compose.

Рассматривалась также возможность использвания hdfs, однако объем исходного файла небольшой (0,5 Гб) и формат данных столбцов определен достаточно точно из-за чего использование такого инструмента скорее излишне.

Прим. из-за веса файлов с данными (соответственно сырые и обработанные а также слой витрин) и необходимости их обработки развертывание docker-compose требует большого количества свободной памяти (около 5GB или более)

\```python
import requests
import pandas as pd
import psycopg2
from datetime import datetime
\```
```

import requests
import pandas as pd
import psycopg2
from datetime import datetime
```

### Подключение к существующей базе
```
conn = psycopg2.connect(host="localhost",
                        database="databaseSem",
                        user="username",
                        password="secret"
)
print("Successfully connected to the database.")
cur = conn.cursor()
```
